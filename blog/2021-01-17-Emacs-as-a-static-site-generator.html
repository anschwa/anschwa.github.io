<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2021-01-24 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Emacs as a static site generator</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Adam Schwartz">
<link rel="stylesheet" href="../css/style.css" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
<div id="preamble" class="status">
<p>Published:&nbsp;January 17, 2021</p>
</div>
<div id="content">
<ul class="org-ul nav">
<li><a href="../index.html">About</a></li>
<li><a href="../blog/index.html">Blog</a></li>
<li><a href="../ceramics/index.html">Ceramics</a></li>
<li><a href="https://github.com/anschwa">Github</a></li>
</ul>

<div id="outline-container-org2fc3e39" class="outline-2">
<h2 id="org2fc3e39">Emacs as a static site generator</h2>
<div class="outline-text-2" id="text-org2fc3e39">
<p>
This website is generated from Emacs using <code>M-x org-publish</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><code>(require 'ox-publish)</code>
<code></code>
<code>(defvar my/website-org-path "~/anschwa.github.io")</code>
<code>(defvar my/website-org-base-directory (concat my/website-org-path "/org/"))</code>
<code>(defvar my/website-org-publishing-directory (concat my/website-org-path "/public_html/"))</code>
<code>(defvar my/website-head-extra</code>
<code>  (let ((viewport "&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;"))</code>
<code>    (concat viewport "\n")))</code>
<code></code>
<code>(setq org-html-metadata-timestamp-format "%Y-%m-%d")</code>
<code>(setq org-html-htmlize-output-type 'inline-css) ; Uses current theme for syntax highlighting</code>
<code>(setq org-publish-project-alist</code>
<code>      `(</code>
<code>        ("website" :components ("website-content" "website-static"))</code>
<code>         ("website-content"</code>
<code>          :base-extension "org"</code>
<code>          :base-directory ,my/website-org-base-directory</code>
<code>          :publishing-directory ,my/website-org-publishing-directory</code>
<code>          :publishing-function org-html-publish-to-html</code>
<code>          :recursive t</code>
<code></code>
<code>          ;; Disable some defaults</code>
<code>          :html-link-home ""</code>
<code>          :html-link-up ""</code>
<code>          :html-head-include-default-style nil</code>
<code>          :html-head-include-scripts nil</code>
<code>          :html-preamble nil</code>
<code>          :html-postamble nil</code>
<code></code>
<code>          ;; Custom options</code>
<code>          :headline-levels 4</code>
<code>          :language "en"</code>
<code>          :html-html5-fancy t</code>
<code>          :html-head-extra ,my/website-head-extra</code>
<code>          :with-date t</code>
<code>          :with-emphasize t              ; *:t</code>
<code>          :with-smart-quotes t           ; *:t</code>
<code>          :with-sub-superscript nil      ; ^:nil</code>
<code>          :with-toc nil                  ; toc:nil</code>
<code>          :section-numbers nil           ; num:nil</code>
<code>          :html-preamble "&lt;p&gt;Published: %d&lt;/p&gt;"</code>
<code>          :html-postamble "&lt;p&gt;Last updated: %C&lt;/p&gt;"</code>
<code>          :html-wrap-src-lines t)</code>
<code></code>
<code>         ("website-static"</code>
<code>          :base-directory ,my/website-org-base-directory</code>
<code>          :publishing-directory ,my/website-org-publishing-directory</code>
<code>          :base-extension "css\\|js\\|jpg\\|png\\|pdf"</code>
<code>          :publishing-function org-publish-attachment</code>
<code>          :recursive t)))</code>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>Last&nbsp;updated:&nbsp;2021-01-24</p>
</div>
</body>
</html>
